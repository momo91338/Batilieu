<!DOCTYPE html><html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin | Batilieu</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f4f4f4; color: #333; }
    header, footer { background: #333; color: white; padding: 20px; text-align: center; }
    section { padding: 20px; }
    h2 { color: #333; }
    input, textarea, button { width: 100%; max-width: 600px; margin: 10px auto; display: block; padding: 10px; border-radius: 5px; border: 1px solid #ccc; }
    .service, .gallery-item { background: #fff; padding: 10px; margin: 10px auto; border: 1px solid #ddd; border-radius: 5px; max-width: 600px; }
    .gallery { display: flex; flex-wrap: wrap; gap: 10px; }
    .gallery img { width: 120px; border-radius: 5px; cursor: pointer; }
    video { max-width: 100%; border-radius: 5px; }
    .social-inputs input { margin-bottom: 10px; }
    .actions { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
    .actions button { flex: 1; min-width: 100px; }
    #loginSection { display: none; padding: 40px; text-align: center; }
    #adminPanel { display: none; }
  </style>
</head>
<body>
  <div id="loginSection">
    <h2>Connexion Administrateur</h2>
    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="Mot de passe">
    <button onclick="login()">Se connecter</button>
  </div>  <div id="adminPanel">
    <header>
      <h1>لوحة تحكم Batilieu</h1>
      <input type="file" id="logoInput" accept="image/*">
      <img id="logoPreview" src="" alt="Logo" style="width: 150px; margin: 10px auto; display: block;">
      <input type="text" id="siteName" placeholder="اسم الموقع">
    </header><section>
  <h2>À propos de nous</h2>
  <textarea id="about" rows="4" placeholder="نص عن الشركة"></textarea>
</section>

<section>
  <h2>Nos services</h2>
  <div id="services"></div>
  <button onclick="addService()">+ Ajouter un service</button>
</section>

<section>
  <h2>Galerie photos</h2>
  <div class="gallery" id="gallery"></div>
  <input type="file" id="imageUpload" accept="image/*">
</section>

<section>
  <h2>Vidéos</h2>
  <video id="videoPreview" controls></video>
  <input type="file" id="videoUpload" accept="video/mp4">
</section>

<section>
  <h2>Réseaux sociaux</h2>
  <div class="social-inputs">
    <input id="facebook" placeholder="Lien Facebook">
    <input id="whatsapp" placeholder="Lien WhatsApp">
    <input id="email" placeholder="Email">
    <input id="map" placeholder="Lien Google Maps">
  </div>
</section>

<section>
  <h2>Footer</h2>
  <input id="footer" placeholder="Texte du pied de page">
</section>

<div class="actions">
  <button onclick="saveChanges()">Enregistrer les modifications</button>
  <button onclick="logout()">Déconnexion</button>
</div>

<footer>
  <p>© 2024 Tous droits réservés - Batilieu</p>
</footer>

  </div>  <!-- Firebase SDK -->  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>  <script>
    

const firebaseConfig = {
  apiKey: "AIzaSyAjZlsPWS2r4O-dJcdyesQgl0yCpuxlEAU",
  authDomain: "batilieu-78862.firebaseapp.com",
 
projectId: "batilieu-78862",
  
storageBucket: "batilieu-78862.appspot.com",
 messagingSenderId: "99288585792",
  appId: "1:99288585792:web:f78d3fd0174c6b9f4bf1a5",
  measurementId: "G-8Z3WZF47YP"
};

    

firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const storage = firebase.storage();
    const auth = firebase.auth();

    const loginSection = document.getElementById("loginSection");
    const adminPanel = document.getElementById("adminPanel");

    auth.onAuthStateChanged(user => {
      if (user) {
        loginSection.style.display = "none";
        adminPanel.style.display = "block";
        loadData();
      } else {
        loginSection.style.display = "block";
        adminPanel.style.display = "none";
      }
    });

    function login() {
      const email = document.getElementById("loginEmail").value;
      const pass = document.getElementById("loginPassword").value;
      auth.signInWithEmailAndPassword(email, pass).catch(err => alert(err.message));
    }

    function logout() {
      auth.signOut();
    }

    // بقية الدوال موجودة كما هي من قبل مثل loadData، saveChanges، uploadImage، uploadVideo، uploadLogo، addService...
  </script></body>
</html>